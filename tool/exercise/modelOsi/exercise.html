<!-- Generated by Copilot -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>exercice sur le modèle OSI</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
        }
        .container {
            width: 80%;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #333;
        }
        a {
            color: #333;
            font-weight: bold;
        }
        /* Generated by Nyapilot */
        /* Styles pour les divs générés dynamiquement */
        #exercise1 .exercise1Ligne {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #fafafa;
        }

        /* Styles pour les labels et selects */
        #exercise1 label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        #exercise1 select {
            width: 100%;
            padding: 5px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }

        /* Styles pour les h2 en tant que checkbox */
        #exercise1 h2 {
            color: red;
        }
        /* Generated by Nyapilot */
        /* Styles pour le bouton de vérification */
        #exercise1 button {
            display: block;
            width: 100%;
            padding: 10px;
            margin-top: 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        #exercise1 button:hover {
            background-color: #45a049;
        }
        /* Styles pour le score */
        #exercise1 .score {
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            color: #333;
        }

    </style>
</head>
<body>
    <div class="container">
        <a href="index.html">Retour à la section des exercices</a>
        <h1>Exercice sur le modèle OSI</h1>
        <div id="exercise1">
            
            <script>
                const modelOsi= [
                {
                    "numero": 7,
                    "nom": "Couche Application",
                    "donnees": "Messages",
                    "description": "Fournit des services de réseau aux applications de l'utilisateur final."
                },
                {
                    "numero": 6,
                    "nom": "Couche Présentation",
                    "donnees": "Messages",
                    "description": "Traduit les données entre le format du réseau et le format compréhensible par l'application."
                },
                {
                    "numero": 5,
                    "nom": "Couche Session",
                    "donnees": "Messages",
                    "description": "Gère les sessions de communication entre les applications."
                },
                {
                    "numero": 4,
                    "nom": "Couche Transport",
                    "donnees": "Segments",
                    "description": "établit, maintient et termine les connexions entre les sessions."
                },
                {
                    "numero": 3,
                    "nom": "Couche Réseau",
                    "donnees": "Paquets",
                    "description": "Adresse les interfaces globalement et détermine les meilleurs chemins à travers un inter-réseau."
                },
                {
                    "numero": 2,
                    "nom": "Couche Liaison de Données",
                    "donnees": "Trames",
                    "description": "Adresse localement les interfaces et livre les informations localement, méthode MAC."
                },
                {
                    "numero": 1,
                    "nom": "Couche Physique",
                    "donnees": "Bits",
                    "description": "Transmet les bits bruts sur un support physique."
                }
            ]

                function fild(number, name, Description){
                    function melangeCouches(array) {
                        return array.sort(() => Math.random() - 0.5);
                    }

                    return `
                        <div class="exercise1Ligne" id="exercise1-${number}">
                            <h2>Numéro de la couche : ${number}</h2> 
                            <label for="name-${number}"> Nom de la couche : </label> 
                            <select id="name-${number}">
                                ${melangeCouches(modelOsi).map((couche) => `<option value="${couche.nom}">${couche.nom}</option>`).join('')}
                            </select>
                            <label for="donnees-${number}"> Nom des données : </label> 
                            <select id="donnees-${number}">
                                ${melangeCouches(modelOsi).map((couche) => `<option value="${couche.donnees}">${couche.donnees}</option>`).join('')}
                            </select>
                            <label for="description-${number}"> Description : </label> 
                            <select id="description-${number}">
                                ${melangeCouches(modelOsi).map((couche) => `<option value="${couche.description}">${couche.description}</option>`).join('')}
                            </select>
                        </div>
                    `;

                }
                //génaire 7 div pour chaque couche du modèle OSI dans un ordre aléatoire
                let osiLeft = [...modelOsi]
                for (let i = 0; i < 7; i++) {
                    let random = Math.floor(Math.random() * osiLeft.length)
                    document.getElementById("exercise1").innerHTML += fild(osiLeft[random].numero, osiLeft[random].nom, osiLeft[random].description)
                    osiLeft.splice(random, 1)
                }
                document.getElementById("exercise1").innerHTML += `<button onclick="check()">Vérifier</button>`
                function check(){
                    let score = 0
                    for (let i = 1; i < 8; i++) {
                        let name = document.getElementById(`name-${i}`).value
                        let donnees = document.getElementById(`donnees-${i}`).value
                        let description = document.getElementById(`description-${i}`).value
                        console.log(name == modelOsi[i-1].nom, name, modelOsi[i-1].nom, i, modelOsi[i-1].numero)
                        const OSI = modelOsi.find((couche) => couche.numero === i)
                        console.log(OSI)
                        if (name !== OSI.nom) {
                            document.getElementById(`name-${i}`).style.backgroundColor = "red"
                            //affiche la bonne réponse en dessous de la mauvaise
                            const div = document.createElement("div")
                            div.innerHTML = `<p>La bonne réponse était : ${OSI.nom}</p>`
                            //ajoute le div en dessous de la mauvaise réponse, pas en dessous de la bonne réponse
                            document.getElementById(`name-${i}`).insertAdjacentElement("afterend", div)
                        } else {
                            document.getElementById(`name-${i}`).style.backgroundColor = "green"
                            score++
                        }
                        if (donnees !== OSI.donnees) {
                            document.getElementById(`donnees-${i}`).style.backgroundColor = "red"
                            //affiche la bonne réponse en dessous de la mauvaise
                            const div = document.createElement("div")
                            div.innerHTML = `<p>La bonne réponse était : ${OSI.donnees}</p>`
                            //ajoute le div en dessous de la mauvaise réponse, pas en dessous de la bonne réponse
                            document.getElementById(`donnees-${i}`).insertAdjacentElement("afterend", div)
                        } else {
                            document.getElementById(`donnees-${i}`).style.backgroundColor = "green"
                            score++
                        }
                        if (description !== OSI.description) {
                            document.getElementById(`description-${i}`).style.backgroundColor = "red"
                            //affiche la bonne réponse en dessous de la mauvaise
                            const div = document.createElement("div")
                            div.innerHTML = `<p>La bonne réponse était : ${OSI.description}</p>`
                            //ajoute le div en dessous de la mauvaise réponse, pas en dessous de la bonne réponse
                            document.getElementById(`description-${i}`).insertAdjacentElement("afterend", div)
                        } else {
                            document.getElementById(`description-${i}`).style.backgroundColor = "green"
                            score++
                        }
                        //désactive les selects
                        document.getElementById(`name-${i}`).disabled = true
                        document.getElementById(`donnees-${i}`).disabled = true
                        document.getElementById(`description-${i}`).disabled = true
                    }
                    //remet le score sur 20
                    score = score/21 * 20
                    score = Math.round(score)
                    const scoreDiv = document.createElement("div")
                    scoreDiv.className = "score"
                    scoreDiv.innerHTML = `<p>vous avez obtenu ${score}/20</p>`
                    document.getElementById("exercise1").appendChild(scoreDiv)
                    const resetDiv = document.createElement("button")
                    resetDiv.innerHTML = "Réessayer"
                    resetDiv.onclick = () => {
                        location.reload()
                    }
                    document.getElementById("exercise1").appendChild(resetDiv)
                }
            </script>
        </div>
    </div>
</body>
</html>